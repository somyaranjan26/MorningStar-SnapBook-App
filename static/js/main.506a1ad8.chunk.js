(this["webpackJsonpmorningstart-snapbook-app"]=this["webpackJsonpmorningstart-snapbook-app"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(18),r=a.n(s),i=(a(24),a(9)),l=(a(25),a(3)),o=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("main",{className:"mt-16 mx-auto max-w-7xl px-4 sm:mt-24",children:Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("h1",{className:"font-logo tracking-normal font-medium text-yellow-600 text-5xl md:text-6xl",children:"MorningStar*"}),Object(l.jsxs)("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-700 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:["Share your favorite Snaps with ",Object(l.jsx)("span",{className:"text-yellow-600",children:"MorningStar"}),"."]})]})})})},m=function(e){return Object(l.jsx)("div",{className:"relative overflow-hidden ",children:Object(l.jsx)("div",{className:"relative pt-6 pb-16 sm:pb-24",children:e.children})})},j=a(14),d=a.n(j),u=a(19),b=a(12);a(30),a(31);b.a.initializeApp({apiKey:"AIzaSyCDY2CkmkBX0fFlwmBgy-7R8w45TcGZLQo",authDomain:"morningstar-b0754.firebaseapp.com",projectId:"morningstar-b0754",storageBucket:"morningstar-b0754.appspot.com",messagingSenderId:"553887133322",appId:"1:553887133322:web:aa162aeea53be1527a8773"});var x=b.a.storage(),g=b.a.firestore(),p=b.a.firestore.FieldValue.serverTimestamp,f=a(33),O=function(e){var t=e.file,a=e.setFile,c=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],m=l[1],j=Object(n.useState)(null),b=Object(i.a)(j,2),f=b[0],O=b[1];return Object(n.useEffect)((function(){var t=(new Date).getTime()+"."+e.name.split(".").pop(),a=x.ref(t),n=g.collection("image");a.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;s(t)}),(function(e){m(e)}),Object(u.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getDownloadURL();case 2:t=e.sent,c=p(),n.add({url:t,createdAt:c}),O(t);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:c,url:f,error:o}}(t),s=c.url,r=c.progress;return Object(n.useEffect)((function(){s&&a(null)}),[s]),Object(l.jsx)(f.a.div,{className:"h-2 mt-12 bg-yellow-600 rounded-xl",initial:{width:0},animate:{width:r+"%"}})},h=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(null),o=Object(i.a)(r,2),m=o[0],j=o[1],d=["image/png","image/jpeg"];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"w-full flex justify-center",children:Object(l.jsx)("form",{children:Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{className:"hidden",type:"file",onChange:function(e){var t=e.target.files[0];t&&d.includes(t.type)?(s(t),j("")):(s(null),j("Please select an image file (png or jpeg)"))}}),Object(l.jsxs)("div",{className:"flex flex-col items-center justify-center mt-10 h-12 w-12 text-base font-medium rounded-full text-white bg-yellow-600 hover:bg-yellow-500 md:text-lg shadow-lg",children:[Object(l.jsx)("img",{className:"svg_arrow animate-bounce",alt:"upload-svg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABNUlEQVRoge2ZX07CQBCHtx6JM2jEgH8OwIsmhHpQfTLoDTDxEMCDfj50AmUzLVCy3UHnSzZpdqc7vy/d9KENwXEcx/mLAGNgnDvHSQBDYCVjmDtPJ4BrYMmWNXCbO9dRKBLnJyPHSZOoy9zlztnKARL2ZY6QsCsDjKjeTHW+lfDx3AoY5c4fQggBuFGexA9QKiKPiswauLcq8SzrO8jckykZkYiP00aiSWSPzEPfElfSOJaYRnWqiKxN5Z5Y5rJPkbkiMVPqGkVkfabIvPVjUQV4jSTKhrpWEakpI5mXtOl3mw+AD2ABTFrq9opI3UT2egcGXTIVXW46lDh8URTJ+l2k2rhvXMQaLmINF7GGi1jDRazhItZwEWu4iDVSi3zWrheJe6WD6tvXl4zz/NHjOI7j/At+AecF3Evs5qsfAAAAAElFTkSuQmCC"}),Object(l.jsx)("p",{className:"svg_bottom rotate-90",children:"["})]})]})})}),Object(l.jsxs)("div",{className:"container mx-auto text-center mt-3 px-10 sm:px-0",children:[m&&Object(l.jsxs)("div",{className:"text-red-600",children:["*",m,"."]}),c&&Object(l.jsx)("div",{children:c.name}),c&&Object(l.jsx)(O,{file:c,setFile:s})]})]})},v=a(15),A=function(e){var t=e.setSelectedImg,a=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){var t=g.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(v.a)(Object(v.a)({},e.data()),{},{id:e.id}))})),s(t)}));return function(){return t()}}),[e]),{docs:c}}("image").docs;return Object(l.jsx)("div",{className:"container mx-auto mt-24",children:Object(l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-12 my-4 mx-auto",children:a&&a.map((function(e){return Object(l.jsx)(f.a.div,{className:"px-5 sm:px-0 opacity-80",layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},children:Object(l.jsx)(f.a.img,{src:e.url,alt:"Morning Star",className:"flex-shrink-0 rounded-lg w-full h-80 sm:h-96 object-cover object-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})})},w=function(e){var t=e.selectedImg,a=e.setSelectedImg;return Object(l.jsx)(f.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1},children:Object(l.jsx)(f.a.img,{src:t,alt:"Enlarged Image",initial:{y:"-100vh"},animate:{y:0}})})};var y=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(l.jsxs)(m,{children:[Object(l.jsx)(o,{}),Object(l.jsx)(h,{}),Object(l.jsx)(A,{setSelectedImg:c}),a&&Object(l.jsx)(w,{selectedImg:a,setSelectedImg:c})]})};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.506a1ad8.chunk.js.map