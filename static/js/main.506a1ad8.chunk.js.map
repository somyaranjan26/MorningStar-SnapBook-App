{"version":3,"sources":["components/header.jsx","components/app-container.jsx","firebase/config.js","components/progressBar.jsx","hooks/useStorage.js","components/upload-form.jsx","components/imageGrid.jsx","hooks/useFirestore.js","components/modal.jsx","App.js","index.js"],"names":["Header","className","AppContainer","props","children","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","ProgressBar","file","setFile","useState","progress","setProgress","error","setError","url","setUrl","useEffect","name","Date","getTime","split","pop","storageRef","ref","collectionRef","collection","put","on","snap","percentage","bytesTransferred","totalBytes","err","a","getDownloadURL","createdAt","add","useStorage","motion","div","initial","width","animate","UploadForm","e","types","type","onChange","seleted","target","files","includes","alt","src","ImageGrid","setSelectedImg","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","docu","push","data","id","useFirestore","map","layout","whileHover","opacity","onClick","img","transition","delay","Modal","selectedImg","classList","contains","y","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.506a1ad8.chunk.js","sourcesContent":["import React from 'react'\nimport '../App.css';\nexport const Header = () => {\nreturn (\n<>\n    <main className=\"mt-16 mx-auto max-w-7xl px-4 sm:mt-24\">\n        <div className=\"text-center\">\n            <h1 className=\"font-logo tracking-normal font-medium text-yellow-600 text-5xl md:text-6xl\">\n                MorningStar*\n            </h1>\n            <p className=\"mt-3 max-w-md mx-auto text-base text-gray-700 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl\">\n                Share your favorite Snaps with <span className=\"text-yellow-600\">MorningStar</span>.\n            </p>\n        </div>\n    </main>\n</>\n)\n}","import React from 'react'\n\nexport const AppContainer = (props) => {\nreturn (\n    <div className=\"relative overflow-hidden \">\n        {/* <div className=\"hidden sm:block sm:absolute sm:inset-y-0 sm:h-full sm:w-full\" aria-hidden=\"true\">\n            <div className=\"relative h-full max-w-7xl mx-auto\">\n                <svg className=\"absolute right-full transform translate-y-1/4 translate-x-1/4 lg:translate-x-1/2\"\n                    width=\"404\" height=\"784\" fill=\"none\" viewBox=\"0 0 404 784\">\n                    <defs>\n                        <pattern id=\"f210dbf6-a58d-4871-961e-36d5016a0f49\" x=\"0\" y=\"0\" width=\"20\" height=\"20\"\n                            patternUnits=\"userSpaceOnUse\">\n                            <rect x=\"0\" y=\"0\" width=\"4\" height=\"4\" className=\"text-yellow-600\" fill=\"currentColor\">\n                            </rect>\n                        </pattern>\n                    </defs>\n                    <rect width=\"404\" height=\"784\" fill=\"url(#f210dbf6-a58d-4871-961e-36d5016a0f49)\"></rect>\n                </svg>\n                <svg className=\"absolute left-full transform -translate-y-3/4 -translate-x-1/4 md:-translate-y-1/2 lg:-translate-x-1/2\"\n                    width=\"404\" height=\"784\" fill=\"none\" viewBox=\"0 0 404 784\">\n                    <defs>\n                        <pattern id=\"5d0dd344-b041-4d26-bec4-8d33ea57ec9b\" x=\"0\" y=\"0\" width=\"20\" height=\"20\"\n                            patternUnits=\"userSpaceOnUse\">\n                            <rect x=\"0\" y=\"0\" width=\"4\" height=\"4\" className=\"text-yellow-600\" fill=\"currentColor\">\n                            </rect>\n                        </pattern>\n                    </defs>\n                    <rect width=\"404\" height=\"784\" fill=\"url(#5d0dd344-b041-4d26-bec4-8d33ea57ec9b)\"></rect>\n                </svg>\n            </div>\n        </div> */}\n        <div className=\"relative pt-6 pb-16 sm:pb-24\">\n            {props.children}\n        </div>\n    </div>\n)\n}","import firebase from 'firebase/app';\nimport 'firebase/storage';\nimport 'firebase/firestore';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCDY2CkmkBX0fFlwmBgy-7R8w45TcGZLQo\",\n    authDomain: \"morningstar-b0754.firebaseapp.com\",\n    projectId: \"morningstar-b0754\",\n    storageBucket: \"morningstar-b0754.appspot.com\",\n    messagingSenderId: \"553887133322\",\n    appId: \"1:553887133322:web:aa162aeea53be1527a8773\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const projectStorage = firebase.storage();\nexport const projectFirestore = firebase.firestore();\nexport const timestamp = firebase.firestore.FieldValue.serverTimestamp;\n\n","import React, { useEffect } from 'react';\nimport { useStorage } from '../hooks/useStorage';\nimport { motion } from 'framer-motion';\n\nexport const ProgressBar = ( { file, setFile } ) => {\n    const { url, progress } = useStorage(file);\n    \n    useEffect(() => { \n        if (url) { setFile(null); }  \n    }, [url])\n    \n    return (\n        <motion.div className=\"h-2 mt-12 bg-yellow-600 rounded-xl\"\n        initial={{ width: 0 }}\n        animate={{ width: progress + '%'}}\n        ></motion.div>\n    )\n}","import { useState, useEffect } from \"react\";\nimport { projectStorage, projectFirestore, timestamp } from '../firebase/config';\n\nexport const useStorage = (file) => {\n    const [progress, setProgress] = useState(0);  // * handle progress of file upload\n    const [error, setError] = useState(null);   // * handle error occured during file upload\n    const [url, setUrl] = useState(null);     // * handle the uploaded file url\n\n    useEffect( () => {\n        var date = new Date().getTime();\n        var extension = file.name.split('.').pop();\n        var name = date + \".\" + extension;\n\n        // ? referances\n        const storageRef = projectStorage.ref(name);\n        const collectionRef = projectFirestore.collection('image');\n\n        storageRef.put(file).on('state_changed', (snap) => {    // ? put() is to upload data to firebase is an async func \n            let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n            setProgress(percentage);\n        }, (err) => {\n            setError(err);\n        }, async () => {\n            const url = await storageRef.getDownloadURL();\n            const createdAt = timestamp();\n            collectionRef.add({url, createdAt });\n            setUrl(url);\n        })\n    }, [file])  // ! executed every time whenever file changes\n\n    return { progress, url, error }\n}","import { useState } from 'react'\nimport { ProgressBar } from './progressBar';\n\nexport const UploadForm = (e) => {\n    const [file, setFile] = useState(null);  // ? Hook: FILE is a state and setFile is func to update the state FILE with initially NULL\n    const [error, setError] = useState(null);\n   \n    const types = ['image/png', 'image/jpeg']; // ! array of accepted file types\n\n    const changeHandler = (e) => {\n        let seleted = e.target.files[0];  // ! get the uploaded image\n\n        if (seleted && types.includes(seleted.type)) {   // ? check weahter we have the valid file\n            setFile(seleted);                            // ? than only update the state FILE\n            setError('');\n        } else {\n            setFile(null);      // ! if file is not valid\n            setError('Please select an image file (png or jpeg)');\n        }\n    }\n\n    return (\n    <>\n    <div className=\"w-full flex justify-center\">\n        <form>\n            <label>\n                <input className=\"hidden\" type=\"file\" onChange={changeHandler}/>\n                {/* <p className=\"text-center leading-5 rounded-full mx-auto my-10 w-6 h-6 text-lg block border border-yellow-500 text-yellow-500\">+</p> */}\n\n                <div className=\"flex flex-col items-center justify-center mt-10 h-12 w-12 text-base font-medium rounded-full text-white bg-yellow-600 hover:bg-yellow-500 md:text-lg shadow-lg\">\n                    <img className=\"svg_arrow animate-bounce\" alt=\"upload-svg\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABNUlEQVRoge2ZX07CQBCHtx6JM2jEgH8OwIsmhHpQfTLoDTDxEMCDfj50AmUzLVCy3UHnSzZpdqc7vy/d9KENwXEcx/mLAGNgnDvHSQBDYCVjmDtPJ4BrYMmWNXCbO9dRKBLnJyPHSZOoy9zlztnKARL2ZY6QsCsDjKjeTHW+lfDx3AoY5c4fQggBuFGexA9QKiKPiswauLcq8SzrO8jckykZkYiP00aiSWSPzEPfElfSOJaYRnWqiKxN5Z5Y5rJPkbkiMVPqGkVkfabIvPVjUQV4jSTKhrpWEakpI5mXtOl3mw+AD2ABTFrq9opI3UT2egcGXTIVXW46lDh8URTJ+l2k2rhvXMQaLmINF7GGi1jDRazhItZwEWu4iDVSi3zWrheJe6WD6tvXl4zz/NHjOI7j/At+AecF3Evs5qsfAAAAAElFTkSuQmCC\"/>\n                    <p className=\"svg_bottom rotate-90\">[</p>\n                </div>\n            </label>\n        </form>\n    </div>\n\n\n    <div className=\"container mx-auto text-center mt-3 px-10 sm:px-0\">\n            { error && <div className=\"text-red-600\">*{ error }.</div>}\n            { file && <div>{ file.name }</div> }\n            { file && <ProgressBar file={file} setFile={setFile} /> }\n    </div>\n    </>\n    )\n}","import { useFirestore } from \"../hooks/useFirestore\";\nimport { motion } from 'framer-motion';\n\nexport const ImageGrid = ({setSelectedImg}) => {\n    const { docs } = useFirestore('image');\n\n    return (\n        <div className=\"container mx-auto mt-24\">\n\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-12 my-4 mx-auto\">\n                { docs && docs.map( docu => (\n                    <motion.div className=\"px-5 sm:px-0 opacity-80\" key={docu.id}\n                        layout\n                        whileHover={{opacity: 1}}\n                        onClick={() => setSelectedImg(docu.url)}\n                    >\n                        <motion.img src={ docu.url } alt=\"Morning Star\"\n                            className=\"flex-shrink-0 rounded-lg w-full h-80 sm:h-96 object-cover object-center\"\n                            initial={{ opacity: 0}}\n                            animate={{ opacity: 1}}\n                            transition={{ delay: 1}}\n                        />\n                    </motion.div>\n                ))}\n            </div>\n\n        </div>\n    )\n}","import { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useFirestore = (collection) => {\n    const [docs, setDocs] = useState([]);\n\n    useEffect( () => {\n        const unsub = projectFirestore.collection(collection)\n            .orderBy('createdAt', 'desc')\n            .onSnapshot((snap) => {\n                let documents = [];\n                snap.forEach( docu => {\n                    documents.push({ ...docu.data(), id: docu.id })\n                });\n                setDocs(documents);\n            });\n\n            return () => unsub();\n    }, [collection])\n\n    return { docs }; \n}","import { motion } from 'framer-motion';\n\nexport const Modal = ({selectedImg, setSelectedImg}) => {\n\n    const handleClick = (e) => {\n        if (e.target.classList.contains('backdrop')) {\n            setSelectedImg(null)\n        }\n    }\n\n    return (\n        <motion.div \n            className=\"backdrop\" \n            onClick={handleClick}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n        >\n            <motion.img \n                src={selectedImg} \n                alt=\"Enlarged Image\"\n                initial={{ y: \"-100vh\" }}\n                animate={{ y: 0 }}\n            />\n        </motion.div>\n    )\n}","import React, { useState } from 'react';\nimport { Header } from './components/header';\nimport { AppContainer } from './components/app-container';\nimport { UploadForm } from './components/upload-form';\nimport { ImageGrid } from './components/imageGrid';\nimport { Modal } from './components/modal';\n\nfunction App() {\n  const [ selectedImg, setSelectedImg ] = useState(null);\n\n  return (\n    <AppContainer>\n      <Header />\n      <UploadForm />\n      <ImageGrid setSelectedImg={setSelectedImg}/>\n      { selectedImg && <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} />}\n    </AppContainer>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}